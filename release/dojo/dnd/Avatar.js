//>>built
define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../query"],function(g,k,l,h,m,a,n){return g("dojo.dnd.Avatar",null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){this.isA11y=m.contains(k.body(),"dijit_a11y");var i=a.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),b=this.manager.source,d,j=a.create("tbody",null,i),c=a.create("tr",null,j),f=a.create("td",
null,c);this.isA11y&&a.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},f);a.create("span",{innerHTML:b.generateText?this._generateText():""},f);var g=Math.min(5,this.manager.nodes.length),e=0;for(h.set(c,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});e<g;++e)b.creator?d=b._normalizedCreator(b.getItem(this.manager.nodes[e].id).data,"avatar").node:(d=this.manager.nodes[e].cloneNode(!0),d.tagName.toLowerCase()=="tr"&&(c=a.create("table"),a.create("tbody",null,c).appendChild(d),
d=c)),d.id="",c=a.create("tr",null,j),f=a.create("td",null,c),f.appendChild(d),h.set(c,{"class":"dojoDndAvatarItem",style:{opacity:(9-e)/10}});this.node=i},destroy:function(){a.destroy(this.node);this.node=!1},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");if(this.isA11y){var a=l.byId("a11yIcon"),b="+";this.manager.canDropFlag&&!this.manager.copy?b="< ":!this.manager.canDropFlag&&!this.manager.copy?b="o":this.manager.canDropFlag||(b="x");
a.innerHTML=b}n("tr.dojoDndAvatarHeader td span"+(this.isA11y?" span":""),this.node).forEach(function(a){a.innerHTML=this._generateText()},this)},_generateText:function(){return this.manager.nodes.length.toString()}})});