//>>built
define("dijit/_editor/html",["dojo/_base/lang","dojo/_base/sniff"],function(l,m){var f=l.getObject("dijit._editor",!0),k=f.escapeXml=function(a,c){a=a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");c||(a=a.replace(/'/gm,"&#39;"));return a};f.getNodeHtml=function(a){var c=[];f.getNodeHtmlHelper(a,c);return c.join("")};f.getNodeHtmlHelper=function(a,c){switch(a.nodeType){case 1:var e=a.nodeName.toLowerCase();if(!e||e.charAt(0)=="/")return"";c.push("<",e);
var h=[],b;if(m("ie")){b=(/^input$|^img$/i.test(a.nodeName)?a:a.cloneNode(!1)).outerHTML;b=b.substr(0,b.indexOf(">")).replace(/(['"])[^"']*\1/g,"");for(var i=/(\b\w+)\s?=/g,g;g=i.exec(b);)if(g=g[1],g.substr(0,3)!="_dj")if((g=="src"||g=="href")&&a.getAttribute("_djrealurl"))h.push([g,a.getAttribute("_djrealurl")]);else{var d,j;switch(g){case "style":d=a.style.cssText.toLowerCase();break;case "class":d=a.className;break;case "width":if(e==="img"){(j=/width=(\S+)/i.exec(b))&&(d=j[1]);break}case "height":if(e===
"img"){(j=/height=(\S+)/i.exec(b))&&(d=j[1]);break}default:d=a.getAttribute(g)}d!=null&&h.push([g,d.toString()])}}else for(i=0;b=a.attributes[i++];)if(d=b.name,d.substr(0,3)!="_dj"){b=b.value;if(d=="src"||d=="href")a.getAttribute("_djrealurl")&&(b=a.getAttribute("_djrealurl"));h.push([d,b])}h.sort(function(a,b){return a[0]<b[0]?-1:a[0]==b[0]?0:1});for(i=0;b=h[i++];)c.push(" ",b[0],'="',l.isString(b[1])?k(b[1],!0):b[1],'"');switch(e){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":c.push(" />");
break;case "script":c.push(">",a.innerHTML,"</",e,">");break;default:c.push(">"),a.hasChildNodes()&&f.getChildrenHtmlHelper(a,c),c.push("</",e,">")}break;case 4:case 3:c.push(k(a.nodeValue,!0));break;case 8:c.push("<\!--",k(a.nodeValue,!0),"--\>");break;default:c.push("<\!-- Element not recognized - Type: ",a.nodeType," Name: ",a.nodeName,"--\>")}};f.getChildrenHtml=function(a){var c=[];f.getChildrenHtmlHelper(a,c);return c.join("")};f.getChildrenHtmlHelper=function(a,c){if(a)for(var e=a.childNodes||
a,h=!m("ie")||e!==a,b,i=0;b=e[i++];)(!h||b.parentNode==a)&&f.getNodeHtmlHelper(b,c)};return f});