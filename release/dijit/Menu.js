//>>built
define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(r,k,s,l,m,j,n,p,t,u,h,q,i,g,v,o,w,x){t.isAsync||x(0,function(){r(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return s("dijit.Menu",w,{constructor:function(){this._bindings=
[]},targetNodeIds:[],contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(g.body()):k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return v.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&g.doc.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&g.doc.frames[a.name]&&
g.doc.frames[a.name].document||null},bindDomNode:function(a){var a=m.byId(a),c;if(a.tagName.toLowerCase()=="iframe"){var b=a,d=this._iframeContentWindow(b);c=g.withGlobal(d,g.body)}else c=a==g.body()?g.doc.documentElement:a;var e={node:a,iframe:b};j.set(a,"_dijitMenu"+this.id,this._bindings.push(e));var f=h.hitch(this,function(a){return[q(a,this.leftClickToOpen?"click":"contextmenu",h.hitch(this,function(a){l.stop(a);this._scheduleOpen(a.target,b,{x:a.pageX,y:a.pageY})})),q(a,"keydown",h.hitch(this,
function(a){a.shiftKey&&a.keyCode==u.F10&&(l.stop(a),this._scheduleOpen(a.target,b))}))]});e.connects=c?f(c):[];if(b)e.onloadHandler=h.hitch(this,function(){var a=this._iframeContentWindow(b);c=g.withGlobal(a,g.body);e.connects=f(c)}),b.addEventListener?b.addEventListener("load",e.onloadHandler,!1):b.attachEvent("onload",e.onloadHandler)},unBindDomNode:function(a){var c;try{c=m.byId(a)}catch(b){return}a="_dijitMenu"+this.id;if(c&&j.has(c,a)){for(var d=j.get(c,a)-1,e=this._bindings[d],f;f=e.connects.pop();)f.remove();
(f=e.iframe)&&(f.removeEventListener?f.removeEventListener("load",e.onloadHandler,!1):f.detachEvent("onload",e.onloadHandler));j.remove(c,a);delete this._bindings[d]}},_scheduleOpen:function(a,c,b){if(!this._openTimer)this._openTimer=setTimeout(h.hitch(this,function(){delete this._openTimer;this._openMyself({target:a,iframe:c,coords:b})}),1)},_openMyself:function(a){function c(){k.refocus&&l&&l.focus();o.close(k)}var b=a.target,d=a.iframe;if(a=a.coords){if(d){var b=n.position(d,!0),e=this._iframeContentWindow(d),
e=g.withGlobal(e,"docScroll",n),f=p.getComputedStyle(d),h=p.toPixelValue,j=(i("ie")&&i("quirks")?0:h(d,f.paddingLeft))+(i("ie")&&i("quirks")?h(d,f.borderLeftWidth):0),d=(i("ie")&&i("quirks")?0:h(d,f.paddingTop))+(i("ie")&&i("quirks")?h(d,f.borderTopWidth):0);a.x+=b.x+j-e.x;a.y+=b.y+d-e.y}}else a=n.position(b,!0),a.x+=10,a.y+=10;var k=this,d=this._focusManager.get("prevNode"),b=this._focusManager.get("curNode"),l=!b||m.isDescendant(b,this.domNode)?d:b;o.open({popup:this,x:a.x,y:a.y,onExecute:c,onCancel:c,
orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);o.close(this)}},uninitialize:function(){k.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})});