//>>built
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/_base/sniff","."],function(m,o,k,n,e,g,p,q){var d=q.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=
setTimeout(e.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(c,b,d,j,f,h,i,a){if(f!=this._obj)this.stop(),this._initialDelay=i||500,this._subsequentDelay=h||0.9,this._minDelay=a||10,this._obj=f,this._evt=c,this._node=d,this._count=this._currentTimeout=-1,this._callback=e.hitch(b,j),this._fireEventAndReload(),this._evt=e.mixin({faux:!0},c)},stop:function(){if(this._timer)clearTimeout(this._timer),this._timer=null;if(this._obj)this._callback(-1,this._node,this._evt),this._obj=
null},addKeyListener:function(c,b,l,j,f,h,i){if(b.keyCode)b.charOrCode=b.keyCode,n.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");else if(b.charCode)b.charOrCode=String.fromCharCode(b.charCode),n.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");var a=[g(c,o._keypress,e.hitch(this,function(a){a.charOrCode==b.charOrCode&&(b.ctrlKey===void 0||b.ctrlKey==
a.ctrlKey)&&(b.altKey===void 0||b.altKey==a.altKey)&&(b.metaKey===void 0||b.metaKey==(a.metaKey||!1))&&(b.shiftKey===void 0||b.shiftKey==a.shiftKey)?(k.stop(a),d.trigger(a,l,c,j,b,f,h,i)):d._obj==b&&d.stop()})),g(c,"keyup",e.hitch(this,function(){d._obj==b&&d.stop()}))];return{remove:function(){m.forEach(a,function(a){a.remove()})}}},addMouseListener:function(c,b,l,j,f,h){var i=[g(c,"mousedown",e.hitch(this,function(a){k.stop(a);d.trigger(a,b,c,l,c,j,f,h)})),g(c,"mouseup",e.hitch(this,function(a){this._obj&&
k.stop(a);d.stop()})),g(c,"mouseout",e.hitch(this,function(a){k.stop(a);d.stop()})),g(c,"mousemove",e.hitch(this,function(a){a.preventDefault()})),g(c,"dblclick",e.hitch(this,function(a){k.stop(a);p("ie")&&(d.trigger(a,b,c,l,c,j,f,h),setTimeout(e.hitch(this,d.stop),50))}))];return{remove:function(){m.forEach(i,function(a){a.remove()})}}},addListener:function(c,b,d,e,f,h,i,a){var g=[this.addKeyListener(b,d,e,f,h,i,a),this.addMouseListener(c,e,f,h,i,a)];return{remove:function(){m.forEach(g,function(a){a.remove()})}}}};
return d});