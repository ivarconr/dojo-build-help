//>>built
require({cache:{"url:dijit/templates/TreeNode.html":'<div class="dijitTreeNode" role="presentation"\n\t><div data-dojo-attach-point="rowNode" class="dijitTreeRow" role="presentation" data-dojo-attach-event="onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick"\n\t\t><img src="${_blankGif}" alt="" data-dojo-attach-point="expandoNode" class="dijitTreeExpando" role="presentation"\n\t\t/><span data-dojo-attach-point="expandoNodeText" class="dijitExpandoText" role="presentation"\n\t\t></span\n\t\t><span data-dojo-attach-point="contentNode"\n\t\t\tclass="dijitTreeContent" role="presentation">\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="iconNode" class="dijitIcon dijitTreeIcon" role="presentation"\n\t\t\t/><span data-dojo-attach-point="labelNode" class="dijitTreeLabel" role="treeitem" tabindex="-1" aria-selected="false" data-dojo-attach-event="onfocus:_onLabelFocus"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point="containerNode" class="dijitTreeContainer" role="presentation" style="display: none;"></div>\n</div>\n',
"url:dijit/templates/Tree.html":'<div class="dijitTree dijitTreeContainer" role="tree"\n\tdata-dojo-attach-event="onkeypress:_onKeyPress">\n\t<div class="dijitInline dijitTreeIndent" style="position: absolute; top: -9999px" data-dojo-attach-point="indentDetector"></div>\n</div>\n'}});
define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/_base/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/topic","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel",
"./tree/ForestStoreModel","./tree/_dndSelector"],function(e,w,n,k,i,o,x,j,p,m,l,q,y,h,f,z,A,B,r,s,t,u,C,D,E,F,I,G,H){var v=k("dijit._TreeNode",[s,t,u,C,D],{item:null,isTreeNode:!0,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:!1,state:"UNCHECKED",templateString:E,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow",labelNode:"dijitTreeLabel"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);
this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var b=Math.max(a,0)*this.tree._nodePixelIndent+"px";m.set(this.domNode,"backgroundPosition",b+" 0px");m.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",b);e.forEach(this.getChildren(),function(b){b.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="LOADING";this._setExpando(!0)},
unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,c=b.model;b._v10Compat&&a===c.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row")},_applyClassAndStyle:function(a,b,c){var d="_"+b+"Class";b+="Node";var g=this[d];this[d]=this.tree["get"+c+"Class"](a,this.isExpanded);j.replace(this[b],this[d]||"",g||"");m.set(this[b],this.tree["get"+c+"Style"](a,this.isExpanded)||
{})},_updateLayout:function(){var a=this.getParent();!a||!a.rowNode||a.rowNode.style.display=="none"?j.add(this.domNode,"dijitTreeIsRoot"):j.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling())},_setExpando:function(a){var b=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],a=a?0:this.isExpandable?this.isExpanded?1:2:3;j.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return this._expandDeferred;
this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role","group");j.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.domNode.setAttribute("aria-expanded","true");var a,b=q.wipeIn({node:this.containerNode,duration:r.defaultDuration,
onEnd:function(){a.resolve(!0)}});a=this._expandDeferred=new i(function(){b.stop()});b.play();return a},collapse:function(){if(this._collapseDeferred)return this._collapseDeferred;this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.domNode.setAttribute("aria-expanded","false");j.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);
var a,b=q.wipeOut({node:this.containerNode,duration:r.defaultDuration,onEnd:function(){a.resolve(!0)}});a=this._collapseDeferred=new i(function(){b.stop()});b.play();return a},indent:0,setChildItems:function(a){var b=this.tree,c=b.model,d=[],g=this.getChildren();e.forEach(g,function(a){u.prototype.removeChild.call(this,a)},this);setTimeout(function(){e.forEach(g,function(a){if(!a._destroyed&&!a.getParent()){b.dndController.removeTreeNode(a);var d=c.getIdentity(a.item),g=b._itemNodesMap[d];g.length==
1?delete b._itemNodesMap[d]:(d=e.indexOf(g,a),d!=-1&&g.splice(d,1));a.destroyRecursive()}})},0);this.state="LOADED";a&&a.length>0?(this.isExpandable=!0,e.forEach(a,function(a){var g=c.getIdentity(a),e=b._itemNodesMap[g],f;if(e)for(var h=0;h<e.length;h++)if(e[h]&&!e[h].getParent()){f=e[h];f.set("indent",this.indent+1);break}f||(f=this.tree._createTreeNode({item:a,tree:b,isExpandable:c.mayHaveChildren(a),label:b.getLabel(a),tooltip:b.getTooltip(a),dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+
1}),e?e.push(f):b._itemNodesMap[g]=[f]);this.addChild(f);(this.tree.autoExpand||this.tree._state(f))&&d.push(b._expandNode(f))},this),e.forEach(this.getChildren(),function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);if(this==b.rootNode)(a=this.tree.showRoot?this:this.getChildren()[0])?(a.setFocusable(!0),b.lastFocused=a):b.domNode.setAttribute("tabIndex","0");return new o(d)},getTreePath:function(){for(var a=this,b=[];a&&a!==
this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(){this.inherited(arguments);var a=this.getChildren();if(a.length==0)this.isExpandable=!1,this.collapse();e.forEach(a,function(a){a._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},_onLabelFocus:function(){this.tree._onNodeFocus(this)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",
a?"true":"false");j.toggle(this.rowNode,"dijitTreeRowSelected",a)},setFocusable:function(a){this.labelNode.setAttribute("tabIndex",a?"0":"-1")},_onClick:function(a){this.tree._onClick(this,a)},_onDblClick:function(a){this.tree._onDblClick(this,a)},_onMouseEnter:function(a){this.tree._onNodeMouseEnter(this,a)},_onMouseLeave:function(a){this.tree._onNodeMouseLeave(this,a)},_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode,this.labelNode.innerText||
this.labelNode.textContent||""),e.forEach(this.getChildren(),function(b){b.set("textDir",a)},this)}}),k=k("dijit.Tree",[s,t],{store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:F,persist:!0,autoExpand:!1,dndController:H,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,
onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,b){z.publish(this.id,f.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;if(this.autoExpand)this.persist=!1;this._itemNodesMap={};if(!this.cookieName&&this.id)this.cookieName=this.id+"SaveStateCookie";this.onLoadDeferred=new i;this.inherited(arguments)},postCreate:function(){this._initState();this.model||this._store2model();this.connect(this.model,
"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(f.isString(this.dndController))this.dndController=f.getObject(this.dndController);for(var a={},b=0;b<this.dndParams.length;b++)this[this.dndParams[b]]&&(a[this.dndParams[b]]=this[this.dndParams[b]]);this.dndController=new this.dndController(this,a)}},_store2model:function(){this._v10Compat=
!0;y.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren)a.mayHaveChildren=f.hitch(this,"mayHaveChildren");if(this.params.getItemChildren)a.getChildren=f.hitch(this,function(a,c,d){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,c,d)});this.model=new G(a);this.showRoot=Boolean(this.label)},onLoad:function(){},
_load:function(){this.model.getRoot(f.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),textDir:this.textDir,indent:this.showRoot?0:-1});if(!this.showRoot)b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),b.labelNode.setAttribute("role","presentation"),b.containerNode.setAttribute("role","tree");this.domNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?
this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(f.hitch(this,function(){var a=this._initialPaths||this.persist&&this.dndController._getSavedPaths()||[];this._loadCalled=!0;i.when(this.set("paths",a),f.hitch(this,function(){this.onLoadDeferred.resolve(!0);this.onLoad()}))}))}),f.hitch(this,function(){}))},getNodesByItem:function(a){if(!a)return[];return[].concat(this._itemNodesMap[f.isString(a)?a:this.model.getIdentity(a)])},_setSelectedItemAttr:function(a){this.set("selectedItems",
[a])},_setSelectedItemsAttr:function(a){var b=this;this.onLoadDeferred.then(f.hitch(this,function(){var c=e.map(a,function(a){return!a||f.isString(a)?a:b.model.getIdentity(a)}),d=[];e.forEach(c,function(a){d=d.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",d)}))},_setPathAttr:function(a){return a.length?this.set("paths",[a]):this.set("paths",[])},_setPathsAttr:function(a){function b(a,g,f){var h=a.shift(),i=e.filter(g,function(a){return a.getIdentity()==h})[0];i?a.length?c._expandNode(i).then(function(){b(a,
i.getChildren(),f)}):f.resolve(i):f.reject("Could not expand path at "+h)}if(this._loadCalled){var c=this,a=new o(e.map(a,function(a){var g=new i,a=e.map(a,function(a){return f.isString(a)?a:c.model.getIdentity(a)});a.length?b(a,[c.rootNode],g):g.reject("Empty path");return g}));a.then(function(a){c.set("selectedNodes",e.map(e.filter(a,function(a){return a[0]}),function(a){return a[1]}))});return a}else if("paths"in this.params||"path"in this.params)this._initialPaths=a},_setSelectedNodeAttr:function(a){this.set("selectedNodes",
[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(c){var d=new dojo.Deferred;b._expandNode(c).then(function(){var b=e.filter(c.getChildren()||[],function(a){return a.isExpandable}),b=e.map(b,a);(new dojo.DeferredList(b)).then(function(){d.resolve(!0)})});return d}var b=this;return a(this.rootNode)},collapseAll:function(){function a(c){var d=new dojo.Deferred;d.label="collapseAllDeferred";var g=e.filter(c.getChildren()||[],function(a){return a.isExpandable}),
g=e.map(g,a);(new dojo.DeferredList(g)).then(function(){!c.isExpanded||c==b.rootNode&&!b.showRoot?d.resolve(!0):b._collapseNode(c).then(function(){d.resolve(!0)})});return d}var b=this;return a(this.rootNode)},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},
getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onKeyPress:function(a){if(!a.altKey){var b=B.getEnclosingWidget(a.target);if(b){var c=a.charOrCode;if(typeof c=="string"&&c!=" ")!a.altKey&&!a.ctrlKey&&!a.shiftKey&&!a.metaKey&&(this._onLetterKeyNav({node:b,key:c.toLowerCase()}),l.stop(a));else{this._curSearch&&(clearTimeout(this._curSearch.timer),delete this._curSearch);var d=this._keyHandlerMap;if(!d)d={},d[h.ENTER]="_onEnterKey",d[h.SPACE]=d[" "]="_onEnterKey",
d[this.isLeftToRight()?h.LEFT_ARROW:h.RIGHT_ARROW]="_onLeftArrow",d[this.isLeftToRight()?h.RIGHT_ARROW:h.LEFT_ARROW]="_onRightArrow",d[h.UP_ARROW]="_onUpArrow",d[h.DOWN_ARROW]="_onDownArrow",d[h.HOME]="_onHomeKey",d[h.END]="_onEndKey",this._keyHandlerMap=d;this._keyHandlerMap[c]&&(this[this._keyHandlerMap[c]]({node:b,item:b.item,evt:a}),l.stop(a))}}}},_onEnterKey:function(a){this._publish("execute",{item:a.item,node:a.node});this.dndController.userSelect(a.node,w.isCopyKey(a.evt),a.evt.shiftKey);
this.onClick(a.item,a.node,a.evt)},_onDownArrow:function(a){(a=this._getNextNode(a.node))&&a.isTreeNode&&this.focusNode(a)},_onUpArrow:function(a){var a=a.node,b=a.getPreviousSibling();if(b)for(a=b;a.isExpandable&&a.isExpanded&&a.hasChildren();)a=a.getChildren(),a=a[a.length-1];else if(b=a.getParent(),this.showRoot||b!==this.rootNode)a=b;a&&a.isTreeNode&&this.focusNode(a)},_onRightArrow:function(a){a=a.node;a.isExpandable&&!a.isExpanded?this._expandNode(a):a.hasChildren()&&(a=a.getChildren()[0])&&
a.isTreeNode&&this.focusNode(a)},_onLeftArrow:function(a){a=a.node;a.isExpandable&&a.isExpanded?this._collapseNode(a):(a=a.getParent())&&a.isTreeNode&&(this.showRoot||a!==this.rootNode)&&this.focusNode(a)},_onHomeKey:function(){var a=this._getRootOrFirstNode();a&&this.focusNode(a)},_onEndKey:function(){for(var a=this.rootNode;a.isExpanded;)a=a.getChildren(),a=a[a.length-1];a&&a.isTreeNode&&this.focusNode(a)},multiCharSearchDuration:250,_onLetterKeyNav:function(a){var b=this._curSearch;b?(b.pattern+=
a.key,clearTimeout(b.timer)):b=this._curSearch={pattern:a.key,startNode:a.node};var c=this;b.timer=setTimeout(function(){delete c._curSearch},this.multiCharSearchDuration);a=b.startNode;do(a=this._getNextNode(a))||(a=this._getRootOrFirstNode());while(a!==b.startNode&&a.label.toLowerCase().substr(0,b.pattern.length)!=b.pattern);a&&a.isTreeNode&&a!==b.startNode&&this.focusNode(a)},isExpandoNode:function(a,b){return x.isDescendant(a,b.expandoNode)},_onClick:function(a,b){var c=this.isExpandoNode(b.target,
a);this.openOnClick&&a.isExpandable||c?a.isExpandable&&this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this.onClick(a.item,a,b),this.focusNode(a));l.stop(b)},_onDblClick:function(a,b){var c=b.target,c=c==a.expandoNode||c==a.expandoNodeText;this.openOnDblClick&&a.isExpandable||c?a.isExpandable&&this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this.onDblClick(a.item,a,b),this.focusNode(a));l.stop(b)},_onExpandoClick:function(a){a=
a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];else{for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_collapseNode:function(a){a._expandNodeDeferred&&
delete a._expandNodeDeferred;if(a.state!="LOADING"&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);return b}},_expandNode:function(a){var b=new i;if(a._expandNodeDeferred)return a._expandNodeDeferred;var c=this.model,d=a.item;if(!a._loadDeferred)a.markProcessing(),a._loadDeferred=new i,c.getChildren(d,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){a._loadDeferred.reject(b)});a._loadDeferred.then(f.hitch(this,
function(){a.expand().then(function(){b.resolve(!0)});this.onOpen(a.item,a);this._state(a,!0)}));return b},focusNode:function(a){A.focus(a.labelNode)},_onNodeFocus:function(a){if(a&&a!=this.lastFocused)this.lastFocused&&!this.lastFocused._destroyed&&this.lastFocused.setFocusable(!1),a.setFocusable(!0),this.lastFocused=a},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this._itemNodesMap[this.model.getIdentity(a)];if(b){var c=this.getLabel(a),d=this.getTooltip(a);
e.forEach(b,function(b){b.set({item:a,label:c,tooltip:d});b._updateItemClasses(a)})}},_onItemChildrenChange:function(a,b){var c=this._itemNodesMap[this.model.getIdentity(a)];c&&e.forEach(c,function(a){a.setChildItems(b)})},_onItemDelete:function(a){var a=this.model.getIdentity(a),b=this._itemNodesMap[a];b&&(e.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes=
{};if(this.persist&&this.cookieName){var a=n(this.cookieName);a&&e.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var c=e.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(arguments.length===1)return this._openedNodes[c];else{b?this._openedNodes[c]=!0:delete this._openedNodes[c];var c=[],d;for(d in this._openedNodes)c.push(d);n(this.cookieName,c.join(","),{expires:365})}},destroy:function(){this._curSearch&&
(clearTimeout(this._curSearch.timer),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!f.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&p.setMarginBox(this.domNode,a);this._nodePixelIndent=p.position(this.tree.indentDetector).w;this.tree.rootNode&&this.tree.rootNode.set("indent",this.showRoot?0:-1)},_createTreeNode:function(a){return new v(a)},
_setTextDirAttr:function(a){a&&this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});k._TreeNode=v;return k});