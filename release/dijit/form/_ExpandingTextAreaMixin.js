//>>built
define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/_base/window"],function(g,h,i,d){var f;return g("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;if(f==void 0){var a=h.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,overflow:"hidden",visibility:"hidden",position:"absolute",border:"0px solid black",
padding:"0px"}},d.body(),"last");f=a.scrollHeight>=a.clientHeight;d.body().removeChild(a)}this.connect(b,"onscroll","_resizeLater");this.connect(b,"onresize","_resizeLater");this.connect(b,"onfocus","_resizeLater");b.style.overflowY="hidden";this._estimateHeight();this._resizeLater()},_onInput:function(){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.style.height="auto";b.rows=(b.value.match(/\n/g)||[]).length+2},_resizeLater:function(){setTimeout(i.hitch(this,
"resize"),0)},resize:function(){function b(){var b=!1;if(a.value==="")a.value=" ",b=!0;var c=a.scrollHeight;if(b)a.value="";return c}var a=this.textbox;if(a.style.overflowY=="hidden")a.scrollTop=0;this.resizeTimer&&clearTimeout(this.resizeTimer);this.resizeTimer=null;if(!this.busyResizing){this.busyResizing=!0;if(b()||a.offsetHeight){var c=a.style.height;if(!/px/.test(c))c=b(),a.rows=1,a.style.height=c+"px";var c=Math.max(parseInt(c)-a.clientHeight,0)+b(),e=c+"px";if(e!=a.style.height)a.rows=1,a.style.height=
e;if(f){var d=b();a.style.height="auto";b()<d&&(e=c-d+b()+"px");a.style.height=e}a.style.overflowY=b()>a.clientHeight?"auto":"hidden"}else this._estimateHeight();this.busyResizing=!1}},destroy:function(){this.resizeTimer&&clearTimeout(this.resizeTimer);this.shrinkTimer&&clearTimeout(this.shrinkTimer);this.inherited(arguments)}})});