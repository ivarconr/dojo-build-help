//>>built
define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang",".."],function(i,j,k,l,e,g,h){var f=j("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,d,b){var c;a!==void 0&&(c=this.filter(a),typeof b!="string"&&(b=c!==null&&(typeof c!="number"||
!isNaN(c))?this.filter(this.format(c,this.constraints)):""));if(b!=null&&b!=void 0&&(typeof b!="number"||!isNaN(b))&&this.textbox.value!=b)this.textbox.value=b,this._set("displayedValue",this.get("displayedValue"));this.textDir=="auto"&&this.applyTextDir(this.focusNode,b);this.inherited(arguments,[c,d])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){a===null||a===void 0?a="":typeof a!="string"&&(a=String(a));this.textbox.value=
a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));this.textDir=="auto"&&this.applyTextDir(this.focusNode,a)},format:function(a){return a==null||a==void 0?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(){this.textDir=="auto"&&this.applyTextDir(this.focusNode,this.focusNode.value);this._refreshState();this._set("displayedValue",this.get("displayedValue"))},
postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var a=function(a){var b=a.charOrCode||a.keyCode||229;if(a.type=="keydown")switch(b){case e.SHIFT:case e.ALT:case e.CTRL:case e.META:case e.CAPS_LOCK:return;default:if(b>=65&&b<=90)return}if(!(a.type=="keypress"&&typeof b!="string")){if(a.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=!1;return}}else this.__skipInputEvent=!0;var c=g.mixin({},a,{charOrCode:b,wasConsumed:!1,preventDefault:function(){c.wasConsumed=
!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});this.onInput(c)===!1&&l.stop(c);c.wasConsumed||setTimeout(g.hitch(this,"_onInput",c),0)}};i.forEach(["onkeydown","onkeypress","onpaste","oncut","oninput"],function(d){this.connect(this.textbox,d,a)},this)},_blankValue:"",filter:function(a){if(a===null)return this._blankValue;if(typeof a!="string")return a;this.trim&&(a=g.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,
function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(){this.disabled||(this._setBlurValue(),this.inherited(arguments),this._selectOnClickHandle&&this.disconnect(this._selectOnClickHandle))},_isTextSelected:function(){return this.textbox.selectionStart==this.textbox.selectionEnd},_onFocus:function(a){if(!this.disabled&&!this.readOnly){if(this.selectOnClick&&a=="mouse")this._selectOnClickHandle=
this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._isTextSelected()&&f.selectInputText(this.textbox)});this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});f._setSelectionRange=h._setSelectionRange=function(a,d,b){a.setSelectionRange&&a.setSelectionRange(d,
b)};f.selectInputText=h.selectInputText=function(a,d,b){a=k.byId(a);isNaN(d)&&(d=0);isNaN(b)&&(b=a.value?a.value.length:0);try{a.focus(),f._setSelectionRange(a,d,b)}catch(c){}};return f});