//>>built
define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/window"],function(c,i,h,e,j){return i("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(b){var a=[];c.forEach(b||this.getChildren(),function(b){"value"in b?a.push(b):a=a.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return a},reset:function(){c.forEach(this._getDescendantFormWidgets(),function(b){b.reset&&b.reset()})},validate:function(){var b=
!1;return c.every(c.map(this._getDescendantFormWidgets(),function(a){a._hasBeenBlurred=!0;var d=a.disabled||!a.validate||a.validate();!d&&!b&&(j.scrollIntoView(a.containerNode||a.domNode),a.focus(),b=!0);return d}),function(a){return a})},setValues:function(b){h.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(b){var a={};c.forEach(this._getDescendantFormWidgets(),function(b){b.name&&(a[b.name]||
(a[b.name]=[])).push(b)});for(var d in a)if(a.hasOwnProperty(d)){var g=a[d],f=e.getObject(d,!1,b);f!==void 0&&(e.isArray(f)||(f=[f]),typeof g[0].checked=="boolean"?c.forEach(g,function(a){a.set("value",c.indexOf(f,a.value)!=-1)}):g[0].multiple?g[0].set("value",f):c.forEach(g,function(a,b){a.set("value",f[b])}))}},getValues:function(){h.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b={};c.forEach(this._getDescendantFormWidgets(),
function(a){var d=a.name;if(d&&!a.disabled){var c=a.get("value");typeof a.checked=="boolean"?/Radio/.test(a.declaredClass)?c!==!1?e.setObject(d,c,b):(c=e.getObject(d,!1,b),c===void 0&&e.setObject(d,null,b)):(a=e.getObject(d,!1,b),a||(a=[],e.setObject(d,a,b)),c!==!1&&a.push(c)):(a=e.getObject(d,!1,b),typeof a!="undefined"?e.isArray(a)?a.push(c):e.setObject(d,[a,c],b):e.setObject(d,c,b))}});return b},isValid:function(){return this.state==""},onValidStateChange:function(){},_getState:function(){var b=
c.map(this._descendants,function(a){return a.get("state")||""});return c.indexOf(b,"Error")>=0?"Error":c.indexOf(b,"Incomplete")>=0?"Incomplete":""},disconnectChildren:function(){c.forEach(this._childConnections||[],e.hitch(this,"disconnect"));c.forEach(this._childWatches||[],function(b){b.unwatch()})},connectChildren:function(b){var a=this;this.disconnectChildren();this._descendants=this._getDescendantFormWidgets();b=b?function(b,c){a[b]=c}:e.hitch(this,"_set");b("value",this.get("value"));b("state",
this._getState());var d=this._childConnections=[],g=this._childWatches=[];c.forEach(c.filter(this._descendants,function(a){return a.validate}),function(b){c.forEach(["state","disabled"],function(c){g.push(b.watch(c,function(){a.set("state",a._getState())}))})});var f=function(){a._onChangeDelayTimer&&clearTimeout(a._onChangeDelayTimer);a._onChangeDelayTimer=setTimeout(function(){delete a._onChangeDelayTimer;a._set("value",a.get("value"))},10)};c.forEach(c.filter(this._descendants,function(a){return a.onChange}),
function(b){d.push(a.connect(b,"onChange",f));g.push(b.watch("disabled",f))})},startup:function(){this.inherited(arguments);this.connectChildren(!0);this.watch("state",function(b,a,c){this.onValidStateChange(c=="")})},destroy:function(){this.disconnectChildren();this.inherited(arguments)}})});